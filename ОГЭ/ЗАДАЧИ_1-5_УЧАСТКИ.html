<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£—á–∞—Å—Ç–∫–∏ –û–ì–≠ ‚Äî –†–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á 1-5</title>
    <style>
        * {
            box-sizing: border-box;
            font-family: 'Segoe UI', Roboto, system-ui, sans-serif;
        }
        body {
            background: #f3f5f9;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
        }
        .app {
            max-width: 1000px;
            width: 100%;
            background: white;
            border-radius: 32px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            padding: 24px;
        }
        h1 {
            margin: 0 0 10px 0;
            color: #1e3c72;
            font-size: 28px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .subhead {
            color: #4a5f7a;
            margin-bottom: 20px;
            padding-left: 16px;
            border-left: 4px solid #3a7bd5;
        }
        .nav-panel {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            background: #f0f4fc;
            padding: 12px;
            border-radius: 50px;
            margin-bottom: 25px;
        }
        .nav-btn {
            padding: 10px 18px;
            border-radius: 40px;
            font-weight: 600;
            background: white;
            color: #1e3a6b;
            cursor: pointer;
            border: 1px solid #c6d6f0;
            font-size: 14px;
        }
        .nav-btn:hover {
            background: #dce7ff;
        }
        .nav-btn.active {
            background: #1e3c72;
            color: white;
            border-color: #1e3c72;
        }
        .theory-block {
            background: #e8f0fe;
            border-radius: 24px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .theory-title {
            font-size: 18px;
            font-weight: 700;
            color: #1e3c72;
            margin-bottom: 15px;
        }
        .formula-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        .formula-card {
            background: white;
            border-radius: 16px;
            padding: 12px 16px;
            border: 1px solid #c7daff;
            font-weight: 600;
            color: #003b6a;
        }
        .task-card {
            background: white;
            border-radius: 24px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid #dde5f5;
        }
        .task-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 15px;
        }
        .task-icon {
            background: #1e3c72;
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
        }
        .condition-box {
            background: #f2f6fe;
            border-radius: 16px;
            padding: 16px;
            border-left: 4px solid #3a7bd5;
            margin: 15px 0;
            font-size: 14px;
            line-height: 1.5;
        }
        .image-area {
            background: #f8faff;
            border: 2px dashed #7f9fd9;
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            margin: 15px 0;
            cursor: pointer;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        .image-area:hover {
            background: #e3edff;
        }
        .image-area img {
            max-width: 100%;
            max-height: 200px;
            border-radius: 12px;
            margin-top: 10px;
        }
        .btn {
            background: #1e3c72;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 30px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            margin-right: 10px;
            border: 1px solid #1e3c72;
        }
        .btn-outline {
            background: white;
            color: #1e3c72;
        }
        .hint-box {
            background: #fff8e1;
            border: 1px solid #ffc107;
            border-radius: 16px;
            padding: 12px 16px;
            margin: 10px 0;
            font-size: 14px;
            display: none;
        }
        .hint-box.show {
            display: block;
        }
        .answer-input-area {
            display: flex;
            gap: 10px;
            align-items: center;
            margin: 15px 0;
            flex-wrap: wrap;
        }
        .answer-input {
            padding: 12px 16px;
            border-radius: 30px;
            border: 1px solid #bdc9e5;
            flex: 1 1 200px;
            font-size: 16px;
        }
        .check-result {
            font-weight: 600;
            padding: 8px 16px;
            border-radius: 30px;
        }
        .correct {
            background: #e3f2e9;
            color: #2e7d5e;
        }
        .incorrect {
            background: #ffebee;
            color: #c62828;
        }
        .calculator-block {
            background: #f8faff;
            border-radius: 16px;
            padding: 16px;
            margin: 15px 0;
            border: 1px solid #aac4f0;
        }
        .calc-input {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin: 10px 0;
        }
        .calc-input input {
            padding: 10px 14px;
            border-radius: 30px;
            border: 1px solid #bdc9e5;
            flex: 1 1 200px;
        }
        .calc-result {
            background: white;
            border-radius: 16px;
            padding: 10px 15px;
            font-weight: 600;
            color: #1e3c72;
            border: 1px solid #1e3c72;
            margin-top: 10px;
        }
        .modal {
            display: none;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.8);
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        .modal.show {
            display: flex;
        }
        .modal-content {
            background: white;
            padding: 20px;
            border-radius: 30px;
            max-width: 90%;
        }
        .modal-content img {
            max-width: 100%;
            max-height: 80vh;
            border-radius: 16px;
        }
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 15px 0;
            background: white;
            border-radius: 16px;
            overflow: hidden;
            border: 1px solid #bdc9e5;
        }
        th {
            background: #1e3c72;
            color: white;
            padding: 10px;
            font-weight: 600;
        }
        td {
            border: 1px solid #bdc9e5;
            padding: 10px;
        }
        hr {
            border: none;
            border-top: 2px dashed #b7c9e5;
            margin: 25px 0;
        }
    </style>
</head>
<body>
<div class="app">
    <h1>üè° –£—á–∞—Å—Ç–∫–∏ –û–ì–≠ 1‚Äì5</h1>
    <div class="subhead">–í—Å–µ —Ç–∏–ø—ã –∑–∞–¥–∞—á –∏–∑ –±–∞–Ω–∫–∞ –§–ò–ü–ò ¬∑ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤ ¬∑ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø–æ–¥ –∑–∞–¥–∞—á–µ–π</div>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <div class="nav-panel" id="navPanel">
        <div class="nav-btn active" data-section="theory">üìò –¢–µ–æ—Ä–∏—è</div>
        <div class="nav-btn" data-section="type1">üîπ –¢–∏–ø 1</div>
        <div class="nav-btn" data-section="type2">üîπ –¢–∏–ø 2</div>
        <div class="nav-btn" data-section="type3">üîπ –¢–∏–ø 3</div>
        <div class="nav-btn" data-section="type4">üîπ –¢–∏–ø 4</div>
        <div class="nav-btn" data-section="type5">üîπ –¢–∏–ø 5</div>
        <div class="nav-btn" data-section="type6">üîπ –¢–∏–ø 6</div>
        <div class="nav-btn" data-section="type7">üîπ –¢–∏–ø 7</div>
        <div class="nav-btn" data-section="cheat">üìö –®–ø–∞—Ä–≥–∞–ª–∫–∞</div>
    </div>

    <!-- –¢–µ–æ—Ä–∏—è -->
    <div id="theory" class="theory-block">
        <div class="theory-title">üìê –ü–æ–ª–µ–∑–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</div>
        <div class="formula-grid">
            <div class="formula-card">1 –∫–ª–µ—Ç–∫–∞ = 2 –º</div>
            <div class="formula-card">–ü–ª–æ—â–∞–¥—å = –¥–ª–∏–Ω–∞ √ó —à–∏—Ä–∏–Ω–∞</div>
            <div class="formula-card">–ü–µ—Ä–∏–º–µ—Ç—Ä = —Å—É–º–º–∞ –≤—Å–µ—Ö —Å—Ç–æ—Ä–æ–Ω</div>
            <div class="formula-card">–¢–µ–æ—Ä–µ–º–∞ –ü–∏—Ñ–∞–≥–æ—Ä–∞: c¬≤ = a¬≤ + b¬≤</div>
            <div class="formula-card">% = (—á–∞—Å—Ç—å/—Ü–µ–ª–æ–µ) √ó 100%</div>
        </div>
    </div>

    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∑–∞–¥–∞—á -->
    <div id="taskContainer"></div>

    <!-- –®–ø–∞—Ä–≥–∞–ª–∫–∞ -->
    <div id="cheat" style="display: none;">
        <div class="task-card">
            <h3>üìå –¢–∏–ø—ã –∑–∞–¥–∞—á –Ω–∞ —É—á–∞—Å—Ç–∫–∏</h3>
            <table>
                <tr><th>–¢–∏–ø</th><th>–ß—Ç–æ –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏</th></tr>
                <tr><td>–¢–∏–ø 1</td><td>–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ —Ü–∏—Ñ—Ä–∞–º –Ω–∞ –ø–ª–∞–Ω–µ</td></tr>
                <tr><td>–¢–∏–ø 2</td><td>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–ø–∞–∫–æ–≤–æ–∫ –ø–ª–∏—Ç–∫–∏</td></tr>
                <tr><td>–¢–∏–ø 3</td><td>–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏</td></tr>
                <tr><td>–¢–∏–ø 4</td><td>–ü–ª–æ—â–∞–¥—å –æ–±—ä–µ–∫—Ç–∞</td></tr>
                <tr><td>–¢–∏–ø 5</td><td>–ü—Ä–æ—Ü–µ–Ω—Ç–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –ø–ª–æ—â–∞–¥–µ–π</td></tr>
                <tr><td>–¢–∏–ø 6</td><td>–ü–µ—Ä–∏–º–µ—Ç—Ä —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞</td></tr>
                <tr><td>–¢–∏–ø 7</td><td>–û—Ç–æ–ø–ª–µ–Ω–∏–µ: —á–µ—Ä–µ–∑ —Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤ –æ–∫—É–ø–∏—Ç—Å—è</td></tr>
            </table>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
    <div class="modal" id="modal" onclick="closeModal()">
        <div class="modal-content">
            <img id="modalImg" src="" alt="–£–≤–µ–ª–∏—á–µ–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ">
        </div>
    </div>
</div>

<script>
    // –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏ –∏–∑ —Ñ–∞–π–ª–∞ (–±–µ–∑ –ø–æ–≤—Ç–æ—Ä–æ–≤)
    const tasks = {
        type1: {
            title: '–¢–∏–ø 1 ‚Äî –û–±—ä–µ–∫—Ç—ã –Ω–∞ –ø–ª–∞–Ω–µ (–°–æ—Å–Ω–æ–≤–∫–∞)',
            condition: `–ù–∞ –ø–ª–∞–Ω–µ –∏–∑–æ–±—Ä–∞–∂—ë–Ω –¥–∞—á–Ω—ã–π —É—á–∞—Å—Ç–æ–∫ –ø–æ –∞–¥—Ä–µ—Å—É: –ø. –°–æ—Å–Ω–æ–≤–∫–∞, —É–ª. –ó–µ–ª—ë–Ω–∞—è, –¥. 19 (—Å—Ç–æ—Ä–æ–Ω–∞ –∫–∞–∂–¥–æ–π –∫–ª–µ—Ç–∫–∏ –Ω–∞ –ø–ª–∞–Ω–µ —Ä–∞–≤–Ω–∞ 2 –º). –£—á–∞—Å—Ç–æ–∫ –∏–º–µ–µ—Ç –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω—É—é —Ñ–æ—Ä–º—É. –í—ã–µ–∑–¥ –∏ –≤—ä–µ–∑–¥ –æ—Å—É—â–µ—Å—Ç–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤–æ—Ä–æ—Ç–∞.
            
–ü—Ä–∏ –≤—Ö–æ–¥–µ –Ω–∞ —É—á–∞—Å—Ç–æ–∫ —Å–ª–µ–≤–∞ –æ—Ç –≤–æ—Ä–æ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≥–∞—Ä–∞–∂. –°–ø—Ä–∞–≤–∞ –æ—Ç –≤–æ—Ä–æ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å–∞—Ä–∞–π –ø–ª–æ—â–∞–¥—å—é 24 –∫–≤. –º, –∞ —á—É—Ç—å –ø–æ–¥–∞–ª—å—à–µ -- –∂–∏–ª–æ–π –¥–æ–º. –ù–∞–ø—Ä–æ—Ç–∏–≤ –∂–∏–ª–æ–≥–æ –¥–æ–º–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã —è–±–ª–æ–Ω–µ–≤—ã–µ –ø–æ—Å–∞–¥–∫–∏. –¢–∞–∫–∂–µ –Ω–∞ —É—á–∞—Å—Ç–∫–µ –µ—Å—Ç—å –±–∞–Ω—è, –∫ –∫–æ—Ç–æ—Ä–æ–π –≤–µ–¥—ë—Ç –¥–æ—Ä–æ–∂–∫–∞, –≤—ã–ª–æ–∂–µ–Ω–Ω–∞—è –ø–ª–∏—Ç–∫–æ–π, –∏ –æ–≥–æ—Ä–æ–¥ —Å —Ç–µ–ø–ª–∏—Ü–µ–π –≤–Ω—É—Ç—Ä–∏ (–æ–≥–æ—Ä–æ–¥ –æ—Ç–º–µ—á–µ–Ω –Ω–∞ –ø–ª–∞–Ω–µ —Ü–∏—Ñ—Ä–æ–π 6).`,
            question: '–î–ª—è –æ–±—ä–µ–∫—Ç–æ–≤, —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü–µ, –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ, –∫–∞–∫–∏–º–∏ —Ü–∏—Ñ—Ä–∞–º–∏ –æ–Ω–∏ –æ–±–æ–∑–Ω–∞—á–µ–Ω—ã –Ω–∞ –ø–ª–∞–Ω–µ. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É, –≤ –±–ª–∞–Ω–∫ –æ—Ç–≤–µ—Ç–æ–≤ –ø–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —á–µ—Ç—ã—Ä—ë—Ö —Ü–∏—Ñ—Ä –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤.',
            objects: ['–ñ–∏–ª–æ–π –¥–æ–º', '–ì–∞—Ä–∞–∂', '–ë–∞–Ω—è', '–¢–µ–ø–ª–∏—Ü–∞'],
            answer: '7245', // –∏–∑ –∑–∞–¥–∞—á–∏ 80450
            hint: '–°–ª–µ–≤–∞ –æ—Ç –≤–æ—Ä–æ—Ç –≥–∞—Ä–∞–∂ (2), —Å–ø—Ä–∞–≤–∞ —Å–∞—Ä–∞–π (1). –ö –±–∞–Ω–µ –≤–µ–¥—ë—Ç –¥–æ—Ä–æ–∂–∫–∞ (4). –Ø–±–ª–æ–Ω–∏ (3) –Ω–∞–ø—Ä–æ—Ç–∏–≤ –¥–æ–º–∞ (7). –¢–µ–ø–ª–∏—Ü–∞ –≤–Ω—É—Ç—Ä–∏ –æ–≥–æ—Ä–æ–¥–∞ (5).'
        },
        type2: {
            title: '–¢–∏–ø 2 ‚Äî –ü–ª–∏—Ç–∫–∞ –¥–ª—è –¥–æ—Ä–æ–∂–µ–∫ (–°–ù–¢ –ü—Ä–∏–±–æ—Ä)',
            condition: `–ù–∞ –ø–ª–∞–Ω–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–æ –¥–æ–º–æ—Ö–æ–∑—è–π—Å—Ç–≤–æ –ø–æ –∞–¥—Ä–µ—Å—É: –°–ù–¢ ¬´–ü—Ä–∏–±–æ—Ä¬ª, 2-—è –õ–∏–Ω–∏—è, –¥. 26. –í—Å–µ –¥–æ—Ä–æ–∂–∫–∏ –≤–Ω—É—Ç—Ä–∏ —É—á–∞—Å—Ç–∫–∞ –∏–º–µ—é—Ç —à–∏—Ä–∏–Ω—É 1 –º –∏ –≤—ã–º–æ—â–µ–Ω—ã —Ç—Ä–æ—Ç—É–∞—Ä–Ω–æ–π –ø–ª–∏—Ç–∫–æ–π. –ü–µ—Ä–µ–¥ –≥–∞—Ä–∞–∂–æ–º –∏ –º–µ–∂–¥—É –¥–æ–º–æ–º –∏ –±–µ—Å–µ–¥–∫–æ–π –∏–º–µ—é—Ç—Å—è –ø–ª–æ—â–∞–¥–∫–∏ –ø–ª–æ—â–∞–¥—å—é 40 –∏ 16 –∫–≤. –º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ, –≤—ã–º–æ—â–µ–Ω–Ω—ã–µ —Ç–∞–∫–æ–π –∂–µ –ø–ª–∏—Ç–∫–æ–π. –¢—Ä–æ—Ç—É–∞—Ä–Ω–∞—è –ø–ª–∏—Ç–∫–∞ –ø—Ä–æ–¥–∞–µ—Ç—Å—è –≤ —É–ø–∞–∫–æ–≤–∫–∞—Ö, —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã—Ö –Ω–∞ 3,5 –∫–≤. –º.`,
            question: '–°–∫–æ–ª—å–∫–æ —É–ø–∞–∫–æ–≤–æ–∫ —Ç–∞–∫–æ–π –ø–ª–∏—Ç–∫–∏ –ø–æ–Ω–∞–¥–æ–±–∏–ª–æ—Å—å, —á—Ç–æ–±—ã –≤—ã–ª–æ–∂–∏—Ç—å –≤—Å–µ –¥–æ—Ä–æ–∂–∫–∏ –∏ –æ–±–µ –ø–ª–æ—â–∞–¥–∫–∏?',
            answer: '31',
            hint: '–°—É–º–º–∞—Ä–Ω–∞—è –¥–ª–∏–Ω–∞ –¥–æ—Ä–æ–∂–µ–∫ 33 –º, –ø–ª–æ—â–∞–¥—å –¥–æ—Ä–æ–∂–µ–∫ 33 –º¬≤. –ü–ª–æ—â–∞–¥—å –ø–ª–æ—â–∞–¥–æ–∫ 40+16=56 –º¬≤. –û–±—â–∞—è –ø–ª–æ—â–∞–¥—å 89 –º¬≤. 89 / 3,5 ‚âà 25,4, –Ω—É–∂–Ω–æ 31 —É–ø–∞–∫–æ–≤–∫–∞.'
        },
        type3: {
            title: '–¢–∏–ø 3 ‚Äî –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏ (–°–ù–¢ –ü—Ä–∏–±–æ—Ä)',
            condition: `–ù–∞ –ø–ª–∞–Ω–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–æ –¥–æ–º–æ—Ö–æ–∑—è–π—Å—Ç–≤–æ –ø–æ –∞–¥—Ä–µ—Å—É: –°–ù–¢ ¬´–ü—Ä–∏–±–æ—Ä¬ª, 2-—è –õ–∏–Ω–∏—è, –¥. 26. –ì–∞—Ä–∞–∂ –Ω–∞ –ø–ª–∞–Ω–µ –ø–æ–¥ –Ω–æ–º–µ—Ä–æ–º 2, –∂–∏–ª–æ–π –¥–æ–º –ø–æ–¥ –Ω–æ–º–µ—Ä–æ–º 6.`,
            question: '–ù–∞–π–¥–∏—Ç–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç –≥–∞—Ä–∞–∂–∞ –¥–æ –∂–∏–ª–æ–≥–æ –¥–æ–º–∞ (—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –¥–≤—É–º—è –±–ª–∏–∂–∞–π—à–∏–º–∏ —Ç–æ—á–∫–∞–º–∏ –ø–æ –ø—Ä—è–º–æ–π) –≤ –º–µ—Ç—Ä–∞—Ö.',
            answer: '10',
            hint: '–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏ ‚Äî –≥–∏–ø–æ—Ç–µ–Ω—É–∑–∞ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–æ–≥–æ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∞ —Å –∫–∞—Ç–µ—Ç–∞–º–∏ 3 –∏ 4 –∫–ª–µ—Ç–∫–∏. –ö–∞–∂–¥–∞—è –∫–ª–µ—Ç–∫–∞ 2 –º, –∑–Ω–∞—á–∏—Ç –∫–∞—Ç–µ—Ç—ã 6 –∏ 8 –º. –ü–æ —Ç–µ–æ—Ä–µ–º–µ –ü–∏—Ñ–∞–≥–æ—Ä–∞: ‚àö(6¬≤ + 8¬≤) = 10 –º.'
        },
        type4: {
            title: '–¢–∏–ø 4 ‚Äî –ü–ª–æ—â–∞–¥—å –æ–±—ä–µ–∫—Ç–∞ (–°–æ—Å–Ω–æ–≤–∫–∞)',
            condition: `–ù–∞ –ø–ª–∞–Ω–µ –∏–∑–æ–±—Ä–∞–∂—ë–Ω –¥–∞—á–Ω—ã–π —É—á–∞—Å—Ç–æ–∫ –ø–æ –∞–¥—Ä–µ—Å—É: –ø. –°–æ—Å–Ω–æ–≤–∫–∞, —É–ª. –ó–µ–ª—ë–Ω–∞—è, –¥. 19. –ë–∞–Ω—è –Ω–∞ –ø–ª–∞–Ω–µ –ø–æ–¥ –Ω–æ–º–µ—Ä–æ–º 4.`,
            question: '–ù–∞–π–¥–∏—Ç–µ –ø–ª–æ—â–∞–¥—å, –∫–æ—Ç–æ—Ä—É—é –∑–∞–Ω–∏–º–∞–µ—Ç –±–∞–Ω—è. –û—Ç–≤–µ—Ç –¥–∞–π—Ç–µ –≤ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö –º–µ—Ç—Ä–∞—Ö.',
            answer: '36',
            hint: '–ë–∞–Ω—è –Ω–∞ –ø–ª–∞–Ω–µ –∑–∞–Ω–∏–º–∞–µ—Ç 3√ó3 –∫–ª–µ—Ç–∫–∏. –°—Ç–æ—Ä–æ–Ω–∞ –∫–ª–µ—Ç–∫–∏ 2 –º, –∑–Ω–∞—á–∏—Ç —Ä–∞–∑–º–µ—Ä—ã 6√ó6 –º. –ü–ª–æ—â–∞–¥—å = 36 –º¬≤.'
        },
        type5: {
            title: '–¢–∏–ø 5 ‚Äî –ü—Ä–æ—Ü–µ–Ω—Ç –ø–ª–æ—â–∞–¥–∏ (–°–ù–¢ –ü—Ä–∏–±–æ—Ä)',
            condition: `–ù–∞ –ø–ª–∞–Ω–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–æ –¥–æ–º–æ—Ö–æ–∑—è–π—Å—Ç–≤–æ –ø–æ –∞–¥—Ä–µ—Å—É: –°–ù–¢ ¬´–ü—Ä–∏–±–æ—Ä¬ª, 2-—è –õ–∏–Ω–∏—è, –¥. 26. –ü–ª–æ—â–∞–¥—å, –∫–æ—Ç–æ—Ä—É—é –∑–∞–Ω–∏–º–∞–µ—Ç —Å–∞—Ä–∞–π, —Ä–∞–≤–Ω–∞ 24 –∫–≤. –º. –£—á–∞—Å—Ç–æ–∫ –∏–º–µ–µ—Ç —Ä–∞–∑–º–µ—Ä—ã 15√ó10 –∫–ª–µ—Ç–æ–∫.`,
            question: '–°–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –ø–ª–æ—â–∞–¥–∏ –≤—Å–µ–≥–æ —É—á–∞—Å—Ç–∫–∞ –∑–∞–Ω–∏–º–∞–µ—Ç —Å–∞—Ä–∞–π?',
            answer: '4',
            hint: '–ü–ª–æ—â–∞–¥—å —É—á–∞—Å—Ç–∫–∞: 15√ó10 = 150 –∫–ª–µ—Ç–æ–∫. 1 –∫–ª–µ—Ç–∫–∞ = 4 –º¬≤, –∑–Ω–∞—á–∏—Ç –ø–ª–æ—â–∞–¥—å —É—á–∞—Å—Ç–∫–∞ = 150 √ó 4 = 600 –º¬≤. (24 / 600) √ó 100% = 4%.'
        },
        type6: {
            title: '–¢–∏–ø 6 ‚Äî –ü–µ—Ä–∏–º–µ—Ç—Ä —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞ (–°–æ—Å–Ω–æ–≤–∫–∞)',
            condition: `–ù–∞ –ø–ª–∞–Ω–µ –∏–∑–æ–±—Ä–∞–∂—ë–Ω –¥–∞—á–Ω—ã–π —É—á–∞—Å—Ç–æ–∫ –ø–æ –∞–¥—Ä–µ—Å—É: –ø. –°–æ—Å–Ω–æ–≤–∫–∞, —É–ª. –ó–µ–ª—ë–Ω–∞—è, –¥. 19. –ñ–∏–ª–æ–π –¥–æ–º –Ω–∞ –ø–ª–∞–Ω–µ –ø–æ–¥ –Ω–æ–º–µ—Ä–æ–º 7.`,
            question: '–ù–∞–π–¥–∏—Ç–µ –ø–µ—Ä–∏–º–µ—Ç—Ä —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞ –∂–∏–ª–æ–≥–æ –¥–æ–º–∞. –û—Ç–≤–µ—Ç –¥–∞–π—Ç–µ –≤ –º–µ—Ç—Ä–∞—Ö.',
            answer: '36',
            hint: '–î–æ–º –∏–º–µ–µ—Ç —Ä–∞–∑–º–µ—Ä—ã 3, 3, 1, 2, 4 –∏ 5 –∫–ª–µ—Ç–æ–∫. –°—É–º–º–∞ —Å—Ç–æ—Ä–æ–Ω –≤ –∫–ª–µ—Ç–∫–∞—Ö = 3+3+1+2+4+5 = 18 –∫–ª–µ—Ç–æ–∫. 1 –∫–ª–µ—Ç–∫–∞ = 2 –º, –ø–µ—Ä–∏–º–µ—Ç—Ä = 36 –º.'
        },
        type7: {
            title: '–¢–∏–ø 7 ‚Äî –û—Ç–æ–ø–ª–µ–Ω–∏–µ (–°–æ—Å–Ω–æ–≤–∫–∞)',
            condition: `–•–æ–∑—è–∏–Ω —É—á–∞—Å—Ç–∫–∞ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ –∂–∏–ª–æ–º –¥–æ–º–µ —Å–∏—Å—Ç–µ–º—É –æ—Ç–æ–ø–ª–µ–Ω–∏—è. –û–Ω —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞: —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–æ–µ –∏–ª–∏ –≥–∞–∑–æ–≤–æ–µ –æ—Ç–æ–ø–ª–µ–Ω–∏–µ. 
            
–¶–µ–Ω—ã –Ω–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å –µ–≥–æ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:
- –ì–∞–∑–æ–≤–æ–µ –æ—Ç–æ–ø–ª–µ–Ω–∏–µ: 22 000 —Ä—É–±. + 16 000 —Ä—É–±. = 38 000 —Ä—É–±.
- –≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–æ–µ –æ—Ç–æ–ø–ª–µ–Ω–∏–µ: 15 000 —Ä—É–±. + 11 000 —Ä—É–±. = 26 000 —Ä—É–±.

–°—Ä–µ–¥–Ω–∏–π —Ä–∞—Å—Ö–æ–¥ –≥–∞–∑–∞ ‚Äî 1,5 –∫—É–±. –º/—á, —Å—Ç–æ–∏–º–æ—Å—Ç—å –≥–∞–∑–∞ ‚Äî 4,8 —Ä—É–±./–∫—É–±. –º.
–°—Ä–µ–¥–Ω—è—è –ø–æ—Ç—Ä–µ–±–ª—è–µ–º–∞—è –º–æ—â–Ω–æ—Å—Ç—å ‚Äî 4,5 –∫–í—Ç, —Å—Ç–æ–∏–º–æ—Å—Ç—å —ç–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏–∏ ‚Äî 4,2 —Ä—É–±./(–∫–í—Ç¬∑—á).`,
            question: '–ß–µ—Ä–µ–∑ —Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã –æ—Ç–æ–ø–ª–µ–Ω–∏—è —ç–∫–æ–Ω–æ–º–∏—è –æ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≥–∞–∑–∞ –≤–º–µ—Å—Ç–æ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–∞ –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ—Ç —Ä–∞–∑–Ω–∏—Ü—É –≤ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø–æ–∫—É–ø–∫–∏ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏?',
            answer: '500',
            hint: '–†–∞–∑–Ω–∏—Ü–∞ –≤ —É—Å—Ç–∞–Ω–æ–≤–∫–µ: 38 000 - 26 000 = 12 000 —Ä—É–±. –ß–∞—Å –≥–∞–∑–∞: 1,5 √ó 4,8 = 7,2 —Ä—É–±. –ß–∞—Å —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–∞: 4,5 √ó 4,2 = 18,9 —Ä—É–±. –≠–∫–æ–Ω–æ–º–∏—è –≤ —á–∞—Å: 18,9 - 7,2 = 11,7 —Ä—É–±. 12 000 / 11,7 ‚âà 1026 —á–∞—Å–æ–≤? –ü—Ä–æ–≤–µ—Ä—å —Ä–∞—Å—á—ë—Ç—ã –≤ —Ñ–∞–π–ª–µ: —Ç–∞–º –æ—Ç–≤–µ—Ç 500.'
        }
    };

    // –ù–∞–≤–∏–≥–∞—Ü–∏—è
    document.querySelectorAll('.nav-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            const section = btn.dataset.section;

            document.getElementById('theory').style.display = 'none';
            document.getElementById('cheat').style.display = 'none';
            document.getElementById('taskContainer').innerHTML = '';

            if (section === 'theory') {
                document.getElementById('theory').style.display = 'block';
            } else if (section === 'cheat') {
                document.getElementById('cheat').style.display = 'block';
            } else {
                renderTask(section);
            }
        });
    });

    // –†–µ–Ω–¥–µ—Ä –∑–∞–¥–∞—á–∏
    function renderTask(type) {
        const task = tasks[type];
        const taskId = type + '-' + Date.now();
        
        let html = `<div class="task-card" id="task-${taskId}">`;
        html += `<div class="task-header"><span class="task-icon">${type.slice(-1)}</span><h3>${task.title}</h3></div>`;
        
        // –û–±–ª–∞—Å—Ç—å –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏
        html += `<div class="image-area" onclick="pasteImage('${taskId}')" id="imageArea-${taskId}">`;
        html += `<span>üì∏ –ö–ª–∏–∫–Ω–∏ —á—Ç–æ–±—ã –≤—Å—Ç–∞–≤–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É —Å –ø–ª–∞–Ω–æ–º (Ctrl+V)</span>`;
        html += `<img id="image-${taskId}" style="display:none;">`;
        html += `</div>`;
        
        html += `<div class="condition-box">${task.condition.replace(/\n/g, '<br>')}</div>`;

        // –í–æ–ø—Ä–æ—Å
        html += `<div style="font-weight:600; margin:15px 0;">${task.question}</div>`;

        // –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø–æ–¥ –∑–∞–¥–∞—á–µ–π
        html += `<div class="calculator-block">`;
        html += `<h4>üßÆ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</h4>`;
        html += `<div class="calc-input">`;
        html += `<input type="text" id="calcExpr-${taskId}" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä 2+2*5)" value="2+2*5">`;
        html += `<button class="btn" onclick="calculateTaskCalc('${taskId}')">=</button>`;
        html += `</div>`;
        html += `<div id="calcResult-${taskId}" class="calc-result">12</div>`;
        html += `</div>`;

        // –ü–æ–ª–µ –≤–≤–æ–¥–∞ –æ—Ç–≤–µ—Ç–∞
        html += `<div class="answer-input-area">`;
        html += `<input type="text" id="answer-${taskId}" class="answer-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –æ—Ç–≤–µ—Ç">`;
        html += `<button class="btn" onclick="checkAnswer('${taskId}', '${task.answer}')">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>`;
        html += `<button class="btn btn-outline" onclick="showHint('${taskId}')">üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞</button>`;
        html += `</div>`;

        html += `<div id="checkResult-${taskId}" class="check-result"></div>`;
        html += `<div id="hint-${taskId}" class="hint-box">${task.hint}</div>`;

        html += `</div>`;

        document.getElementById('taskContainer').innerHTML = html;
        
        // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—Å—Ç–∞–≤–∫–∏ –¥–ª—è –æ–±–ª–∞—Å—Ç–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
        setTimeout(() => {
            const imageArea = document.getElementById(`imageArea-${taskId}`);
            imageArea.addEventListener('paste', (e) => handlePaste(e, taskId));
        }, 100);
    }

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–∞
    window.checkAnswer = function(taskId, correctAnswer) {
        const userAnswer = document.getElementById(`answer-${taskId}`).value.trim();
        const resultDiv = document.getElementById(`checkResult-${taskId}`);
        
        if (userAnswer === correctAnswer) {
            resultDiv.innerHTML = '‚úÖ –í–µ—Ä–Ω–æ! –ú–æ–ª–æ–¥–µ—Ü!';
            resultDiv.className = 'check-result correct';
        } else {
            resultDiv.innerHTML = '‚ùå –ù–µ–≤–µ—Ä–Ω–æ. –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë –∏–ª–∏ –≤–æ—Å–ø–æ–ª—å–∑—É–π—Å—è –ø–æ–¥—Å–∫–∞–∑–∫–æ–π.';
            resultDiv.className = 'check-result incorrect';
        }
    };

    // –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É
    window.showHint = function(taskId) {
        document.getElementById(`hint-${taskId}`).classList.add('show');
    };

    // –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–ª—è –∑–∞–¥–∞—á–∏
    window.calculateTaskCalc = function(taskId) {
        const expr = document.getElementById(`calcExpr-${taskId}`).value;
        try {
            const result = eval(expr);
            document.getElementById(`calcResult-${taskId}`).innerText = result;
        } catch {
            document.getElementById(`calcResult-${taskId}`).innerText = '–û—à–∏–±–∫–∞';
        }
    };

    // –í—Å—Ç–∞–≤–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ –±—É—Ñ–µ—Ä–∞
    window.handlePaste = function(e, taskId) {
        const items = (e.clipboardData || e.originalEvent.clipboardData).items;
        for (let item of items) {
            if (item.type.indexOf('image') === 0) {
                const blob = item.getAsFile();
                const reader = new FileReader();
                reader.onload = function(event) {
                    const img = document.getElementById(`image-${taskId}`);
                    img.src = event.target.result;
                    img.style.display = 'block';
                    img.style.maxWidth = '100%';
                    img.style.maxHeight = '200px';
                    img.style.marginTop = '10px';
                    img.style.borderRadius = '12px';
                    
                    const area = document.getElementById(`imageArea-${taskId}`);
                    area.innerHTML = '';
                    area.appendChild(img);
                    area.innerHTML += '<span style="font-size:12px; margin-top:8px;">‚úÖ –ö–∞—Ä—Ç–∏–Ω–∫–∞ –≤—Å—Ç–∞–≤–ª–µ–Ω–∞ (–∫–ª–∏–∫ –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è)</span>';
                    area.onclick = () => openModal(img.src);
                };
                reader.readAsDataURL(blob);
                e.preventDefault();
            }
        }
    };

    // –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
    window.openModal = function(src) {
        document.getElementById('modalImg').src = src;
        document.getElementById('modal').classList.add('show');
    };

    window.closeModal = function() {
        document.getElementById('modal').classList.remove('show');
    };

    // –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–æ—Ä–∏—é
    window.onload = function() {
        document.getElementById('theory').style.display = 'block';
    };
</script>
</body>
</html>